"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[80],{3905:(e,a,o)=>{o.d(a,{Zo:()=>c,kt:()=>f});var t=o(7294);function r(e,a,o){return a in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o,e}function s(e,a){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),o.push.apply(o,t)}return o}function n(e){for(var a=1;a<arguments.length;a++){var o=null!=arguments[a]?arguments[a]:{};a%2?s(Object(o),!0).forEach((function(a){r(e,a,o[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(o,a))}))}return e}function i(e,a){if(null==e)return{};var o,t,r=function(e,a){if(null==e)return{};var o,t,r={},s=Object.keys(e);for(t=0;t<s.length;t++)o=s[t],a.indexOf(o)>=0||(r[o]=e[o]);return r}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)o=s[t],a.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var l=t.createContext({}),p=function(e){var a=t.useContext(l),o=a;return e&&(o="function"==typeof e?e(a):n(n({},a),e)),o},c=function(e){var a=p(e.components);return t.createElement(l.Provider,{value:a},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},u=t.forwardRef((function(e,a){var o=e.components,r=e.mdxType,s=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),m=p(o),u=r,f=m["".concat(l,".").concat(u)]||m[u]||d[u]||s;return o?t.createElement(f,n(n({ref:a},c),{},{components:o})):t.createElement(f,n({ref:a},c))}));function f(e,a){var o=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var s=o.length,n=new Array(s);n[0]=u;var i={};for(var l in a)hasOwnProperty.call(a,l)&&(i[l]=a[l]);i.originalType=e,i[m]="string"==typeof e?e:r,n[1]=i;for(var p=2;p<s;p++)n[p]=o[p];return t.createElement.apply(null,n)}return t.createElement.apply(null,o)}u.displayName="MDXCreateElement"},9617:(e,a,o)=>{o.r(a),o.d(a,{assets:()=>l,contentTitle:()=>n,default:()=>m,frontMatter:()=>s,metadata:()=>i,toc:()=>p});var t=o(7462),r=(o(7294),o(3905));const s={},n="CONSCLI.PRW",i={unversionedId:"Fontes/conscli",id:"Fontes/conscli",title:"CONSCLI.PRW",description:"CONSPRO.PRW - CONSCLI[WEBAPP]",source:"@site/docs/2-Fontes/conscli.md",sourceDirName:"2-Fontes",slug:"/Fontes/conscli",permalink:"/docushark/docs/Fontes/conscli",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Fontes",permalink:"/docushark/docs/category/fontes"},next:{title:"MENVMAIL.PRW",permalink:"/docushark/docs/Fontes/menvmail"}},l={},p=[{value:"<strong>Dados da Customiza\xe7\xe3o</strong>",id:"dados-da-customiza\xe7\xe3o",level:3},{value:"<strong>Especifica\xe7\xe3o da Customiza\xe7\xe3o</strong>",id:"especifica\xe7\xe3o-da-customiza\xe7\xe3o",level:3},{value:"<strong>Especifica\xe7\xe3o de Tabelas e \xcdndices</strong>",id:"especifica\xe7\xe3o-de-tabelas-e-\xedndices",level:3},{value:"<strong>Especifica\xe7\xe3o de Par\xe2metros</strong>",id:"especifica\xe7\xe3o-de-par\xe2metros",level:3},{value:"<strong>Especifica\xe7\xe3o de Perguntes</strong>",id:"especifica\xe7\xe3o-de-perguntes",level:3},{value:"<strong>Especifica\xe7\xe3o das Fun\xe7\xf5es e Rotinas</strong>",id:"especifica\xe7\xe3o-das-fun\xe7\xf5es-e-rotinas",level:3},{value:"<strong>Especifica\xe7\xe3o de Fontes</strong>",id:"especifica\xe7\xe3o-de-fontes",level:3},{value:"<strong>Crit\xe9rios para Valida\xe7\xe3o</strong>",id:"crit\xe9rios-para-valida\xe7\xe3o",level:3}],c={toc:p};function m(e){let{components:a,...o}=e;return(0,r.kt)("wrapper",(0,t.Z)({},c,o,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"conscliprw"},"CONSCLI.PRW"),(0,r.kt)("p",null," ",(0,r.kt)("strong",{parentName:"p"},"CONSPRO.PRW - CONSCLI","[WEBAPP]")),(0,r.kt)("h3",{id:"dados-da-customiza\xe7\xe3o"},(0,r.kt)("strong",{parentName:"h3"},"Dados da Customiza\xe7\xe3o")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Analista:")," Jonathan Everton Torioni Oliveira"),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"especifica\xe7\xe3o-da-customiza\xe7\xe3o"},(0,r.kt)("strong",{parentName:"h3"},"Especifica\xe7\xe3o da Customiza\xe7\xe3o")),(0,r.kt)("p",null,"Em virtude da migra\xe7\xe3o do sistema Protheus para infraestrutura CLOUD, o sistema de consulta lista de pre\xe7o deve ser ajustado para o seu funcionamento no ",(0,r.kt)("strong",{parentName:"p"},"Protheus WebApp"),". Devendo manter o mesmo funcionamento com o minimo de ajuste e mudan\xe7a nos processos poss\xedvel."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"especifica\xe7\xe3o-de-tabelas-e-\xedndices"},(0,r.kt)("strong",{parentName:"h3"},"Especifica\xe7\xe3o de Tabelas e \xcdndices")),(0,r.kt)("p",null,"N\xe3o foi realizado altera\xe7\xf5es em tabelas/indices."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"especifica\xe7\xe3o-de-par\xe2metros"},(0,r.kt)("strong",{parentName:"h3"},"Especifica\xe7\xe3o de Par\xe2metros")),(0,r.kt)("p",null,"N\xe3o foi realizado ajustes em par\xe2metros."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"especifica\xe7\xe3o-de-perguntes"},(0,r.kt)("strong",{parentName:"h3"},"Especifica\xe7\xe3o de Perguntes")),(0,r.kt)("p",null,"N\xe3o houve modifica\xe7\xf5es em perguntes."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"especifica\xe7\xe3o-das-fun\xe7\xf5es-e-rotinas"},(0,r.kt)("strong",{parentName:"h3"},"Especifica\xe7\xe3o das Fun\xe7\xf5es e Rotinas")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"[U_CONSLOGIN]")," - Fun\xe7\xe3o desenvolviva para solicitar o e-mail e o CNPJ dos nossos fornecedores antes de acessar o sistema de consulta. "),(0,r.kt)("p",null,"A utiliza\xe7\xe3o do Protheus WebApp implicou em uma mudan\xe7a significativa devido as suas limita\xe7\xf5es. O Protheus WebApp n\xe3o possui acesso ao sistema de gerenciamento de arquivos do Windows ou qualquer outro OS. Para maiores informa\xe7\xf5es: ",(0,r.kt)("a",{parentName:"p",href:"https://tdn.totvs.com/pages/viewpage.action?pageId=118885352"},"Diferen\xe7as entre as vers\xf5es HTML e Desktop")),(0,r.kt)("p",null,"Devido a caracter\xedstica principal do ",(0,r.kt)("strong",{parentName:"p"},"Conscli")," em n\xe3o realizar a solicita\xe7\xe3o de login e senha para acesso a lista de pre\xe7o, o sistema foi desenvolvido com base em gerenciamento de acessos com o arquivo ",(0,r.kt)("strong",{parentName:"p"},"conspro.txt")," localizado em: ",(0,r.kt)("strong",{parentName:"p"},"C:","\\","listaPreco","\\")," (pasta de instala\xe7\xe3o do Conscli) e na libera\xe7\xe3o dos acessos atrav\xe9s da tabela PB1G01."),(0,r.kt)("p",null,"As limi\xe7\xf5es do Protheus WebApp causaram um impacto significativo neste sistema de genrenciamento de arquivos, visto que, a aplica\xe7\xe3o passa a n\xe3o possuir mais o acesso ao sistema de gerenciamento de arquivos do OS. Para que todas as funcionalidades do customiza\xe7\xe3o continuasse a entregar o resultado esperado e tamb\xe9m para que os nossos parceiros n\xe3o necessitassem realizar um novo pedido de libera\xe7\xe3o as areas respons\xe1veis, foi necess\xe1rio transferir toda gest\xe3o de arquivos para o servidor da aplica\xe7\xe3o."),(0,r.kt)("p",null,"A partir do momento em que o conscli passar a funcionar em WEBAPP, o gerenciamento ficar\xe1 na pasta ",(0,r.kt)("strong",{parentName:"p"},"\\","interf","\\","conscli","\\"),"."),(0,r.kt)("p",null,"Com o conscli funcionando no Protheus WebApp, os parceiros que realizam a consulta na lista de pre\xe7o, dever\xe3o informar apenas o ",(0,r.kt)("strong",{parentName:"p"},"E-mail cadastrado na libera\xe7\xe3o anterior")," e o ",(0,r.kt)("strong",{parentName:"p"},"CNPJ")," da empresa. Com essas informa\xe7\xf5es, o sistema ir\xe1 criar automaticamente a pasta e as prefer\xeancias de idioma do parceiro na pasta indicada anteriormente."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Formato do gerenciamento:")),(0,r.kt)("p",null,'Dentro da pasta anteriormente informada, cada cliente passar\xe1 a ter sua "propria pasta", ao acessar pela primeira vez o sistema via Protheus WebApp, o sistema ir\xe1 criar a pasta com o seguinte formato: ',(0,r.kt)("strong",{parentName:"p"},"E-mail + CNPJ")," Ex: ",(0,r.kt)("strong",{parentName:"p"},"teste_teste.com.br_77071329000178")," o arroba ser\xe1 subustituido por underline."),(0,r.kt)("p",null,"Dentro da pasta do parceiro, conter\xe1 os arquivos: "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"conspro.txt")," - Arquivo de acessos as empresas (criptografado)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"conspro-idioma.txt")," - Arquivo de prefer\xeancia de idioma (P-Portugues | E-Espanhol)")),(0,r.kt)("p",null,"Caso o parceiro j\xe1 possua libera\xe7\xf5es feitas anteriormente, o sistema trar\xe1 automaticamente os acessos, caso contr\xe1rio, aparecer\xe1 uma mensagem na tela do usu\xe1rio perguntando se ele deseja solicitar a libera\xe7\xe3o da consulta lista de pre\xe7o."),(0,r.kt)("p",null,"Ap\xf3s a solicita\xe7\xe3o, a equipe respons\xe1vel, ficar\xe1 encarregada de fazer a libera\xe7\xe3o do parceiro. Ressalto que nenhum processo interno foi alterado, somente a tela de acesso a lista de pre\xe7os."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"especifica\xe7\xe3o-de-fontes"},(0,r.kt)("strong",{parentName:"h3"},"Especifica\xe7\xe3o de Fontes")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"[CONSPRO]")," - Lista para consulta de produtos."),(0,r.kt)("hr",null),(0,r.kt)("h3",{id:"crit\xe9rios-para-valida\xe7\xe3o"},(0,r.kt)("strong",{parentName:"h3"},"Crit\xe9rios para Valida\xe7\xe3o")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Homologa\xe7\xe3o cadastro antigo")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Realizar o acesso com um E-mail e CNPJ que j\xe1 estejam liberados. (Informa\xe7\xe3o pode ser obtida na tabela PB1)"),(0,r.kt)("li",{parentName:"ol"},"Verificar se as empresas que o parceiro tem acesso foram carregadas."),(0,r.kt)("li",{parentName:"ol"},"Consultar um ou mais produtos e verificar se a consulta trouxe a lista de pre\xe7o somente para as empresas que o parceiro tem acesso."),(0,r.kt)("li",{parentName:"ol"},"Comparar com a execu\xe7\xe3o do Conscli via SmartClient.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Homologa\xe7\xe3o cadastro novo")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Realizar a tentativa de acesso com um e-mail qualquer, por\xe9m com um CNPJ de um dos nossos fornecedores."),(0,r.kt)("li",{parentName:"ol"},"Solicitar a libera\xe7\xe3o deste CNPJ para uma de nossas empresas/filiais."),(0,r.kt)("li",{parentName:"ol"},"Entrar no sistema com o cadastro realizado, por\xe9m sem realizar a libera\xe7\xe3o."),(0,r.kt)("li",{parentName:"ol"},"Tentar consultar um c\xf3digo de produto. (O sistema n\xe3o deve trazer nenhuma informa\xe7\xe3o)."),(0,r.kt)("li",{parentName:"ol"},"Realizar a libera\xe7\xe3o do cadastro solicitado."),(0,r.kt)("li",{parentName:"ol"},"Sair da rotina e entrar novamente com o cadastro realizado."),(0,r.kt)("li",{parentName:"ol"},"Verificar se a legenda foi alterada conforme a libera\xe7\xe3o realizada."),(0,r.kt)("li",{parentName:"ol"},"Consultar o c\xf3digo do produto (O sistema deve retornar alguma informa\xe7\xe3o)."),(0,r.kt)("li",{parentName:"ol"},"Comparar com a execu\xe7\xe3o do Conscli via SmartClient."),(0,r.kt)("li",{parentName:"ol"},"Solicitar uma nova libera\xe7\xe3o para o cadastro atual."),(0,r.kt)("li",{parentName:"ol"},"Verificar se a informa\xe7\xe3o nova solicata\xe7\xe3o foi gravada corretamente na tabela PB1.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Obs:")," Caso todos os passos estejam executando conforme o esperado, basta realizar a compila\xe7\xe3o do conspro.prw em ambiente produtivo, criar um servi\xe7o apartado com o environment ",(0,r.kt)("strong",{parentName:"p"},"[CONSULTA]"),"."),(0,r.kt)("p",null,"Os ajuste foram feitos para o funcionamento no Protheus WebApp, por\xe9m existem ajuste que s\xf3 ser\xe3o poss\xedveis de realizar quando tivermos um ambiente de homologa\xe7\xe3o no Cloud TOTVS."),(0,r.kt)("hr",null))}m.isMDXComponent=!0}}]);